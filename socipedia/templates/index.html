<html>
  <head>
    <meta charset="utf-8" />
    <title>Socipedia Auth0 Integration</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 40px; }
      .container { max-width: 800px; margin: 0 auto; }
      .user-info { background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0; }
      .btn { background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; }
      .btn:hover { background: #0056b3; }
      .logout-btn { background: #dc3545; }
      .logout-btn:hover { background: #c82333; }
      pre { background: #f8f9fa; padding: 15px; border-radius: 4px; overflow-x: auto; }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Socipedia Auth0 Integration</h1>
      
      {% if session %}
        <div class="user-info">
          <h2>Welcome {{session.userinfo.name}}!</h2>
          <p><strong>Email:</strong> {{session.userinfo.email}}</p>
          <p><strong>Username:</strong> {{session.userinfo.nickname}}</p>
          <p><a href="{% url 'auth0_logout' %}" class="btn logout-btn">Logout</a></p>
        </div>
        
        <h3>User Information from Auth0:</h3>
        <pre>{{pretty}}</pre>
        
        <p><a href="http://localhost:3001" class="btn">Go to Frontend</a></p>
      {% else %}
        <div class="user-info">
          <h2>Welcome Guest</h2>
          <p>Please login to access Socipedia</p>
          <p><a href="{% url 'auth0_login' %}" class="btn">Login with Auth0</a></p>
        </div>
      {% endif %}
    </div>
  </body>
</html>
